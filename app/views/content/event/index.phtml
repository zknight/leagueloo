<h1>Content Mananger</h1>
<?= l("Create a new event", Path::content_event_add()); ?> |
<?= l("Show Calendar View", Path::content_event_calendar()); ?>
<h2>Upcoming Events</h2>
<? if (count($this->upcoming_events) < 1): ?>
    <p>None</p>
<? else: ?>
<table class="pretty">
    <tr>
        <th>Section</th>
        <th>Event Title</th>
        <th>Starts On</th>
        <th>Ends On</th>
        <th>Time Span</th>
        <th>Repeat</th>
        <th colspan="2">&nbsp;</th>
    </tr>
    <? foreach ($this->upcoming_events as $event): ?>
    <tr>
        <td><?= $event->entity_name; ?> </td>
        <td><?= $event->title; ?></td>
        <td><?= FormatDateTime($event->start_date, "D Y/m/d"); ?></td>
        <td><?= FormatDateTime($event->end_date, "D Y/m/d"); ?></td>
            <? if ($event->all_day): ?>
        <td>all day</td>
            <? else: ?>
        <td>
            From <?= FormatDateTime($event->start_time, "H:i"); ?>
            to <?= FormatDateTime($event->end_time, "H:i"); ?>
        </td>
            <? endif; ?>
        <td><?= $event->GetRepeatInfo(); ?></td>
        <td><?= l("Edit", Path::content_event_edit($event->id)); ?></td>
        <td><?= l("Remove", Path::content_event_delete($event->id), array("method" => "delete")); ?></td>
    </tr>
    <? endforeach; ?>
<table class="pretty">
<? endif; ?>
<h2>Expired Events</h2>
<? if (count($this->expired_events) < 1): ?>
    <p>None</p>
<? else: ?>
<table class="pretty">
    <tr>
        <th>Section</th>
        <th>Event Title</th>
        <th>Starts On</th>
        <th>Ends On</th>
        <th>Time Span</th>
        <th>Repeat</th>
        <th colspan="2">&nbsp;</th>
    </tr>
    <? foreach ($this->expired_events as $event): ?>
    <tr>
        <td><?= $event->entity_name; ?></td>
        <td><?= $event->title; ?></td>
        <td><?= FormatDateTime($event->start_date, "D Y/m/d"); ?></td>
        <td><?= FormatDateTime($event->end_date, "D Y/m/d"); ?></td>
            <? if ($event->all_day): ?>
        <td>all day</td>
            <? else: ?>
        <td>
            From <?= FormatDateTime($event->start_time, "H:i"); ?>
            to <?= FormatDateTime($event->end_time, "H:i"); ?>
        </td>
            <? endif; ?>
        <td><?= $event->GetRepeatInfo(); ?></td>
        <td><?= l("Edit", Path::content_event_edit($event->id)); ?></td>
        <td><?= l("Remove", Path::content_event_delete($event->id), array("method" => "delete")); ?></td>
    </tr>
    <? endforeach; ?>
<table class="pretty">
<? endif; ?>
